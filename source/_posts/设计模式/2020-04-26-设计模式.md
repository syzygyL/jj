---
title: 设计模式
tags:
  - note
comments: false
categories:
  - 设计模式
date: 2020-04-26 23:40:55
description:
top:
---

## 引

设计模式（Design pattern）代表了最佳的实践，通常被有经验的面向对象的软件开发人员所采用。设计模式是软件开发人员在软件开发过程中面临的一般问题的解决方案。这些解决方案是众多软件开发人员经过相当长的一段时间的试验和错误总结出来的。

## GOF23种设计模式

（1）**创建型模式**，共五种：工厂方法模式、抽象工厂模式、单例模式、建造者模式、原型模式。

（2）**结构型模式**，共七种：**适配器模式、装饰器模式、代理模式**、外观模式、桥接模式、组合模式、享元模式。

（3）**行为型模式**，共十一种：策略模式、模板方法模式、观察者模式、迭代子模式、责任链模式、命令模式、备忘录模式、状态模式、访问者模式、中介者模式、解释器模式。

## 面向对象设计模式

不属于GOF之内的

委派模式（Delegate）
应用场景：不属于23 种设计模式之一，是面向对象设计模式中常用的一种模式。这种模式的原理为类B和类A 是两个互相没有任何关系的类，B 具有和A 一模一样的方法和属性；并且调用B 中的方法，属性就是调用A 中同名的方法和属性。B 好像就是一个受A 授权委托的中介。第三方的代码不需要知道A 的存在，也不需要和A 发生直接的联系，通过B 就可以直接使用A 的功能，这样既能够使用到A 的各种功能，又能够很好的将A 保护起来了，一举两得。

1、 Spring中的应用
IoC:在doRegisterBeanDefinitions()即BeanDefinition进行注册的过程中，会设置BeanDefinitionParserDelegate类型的Delegate对象传给this.delegate，并将这个对象作为一个参数传给：parseBeanDefinitions(root, this.delegate)中，然后主要的解析的工作就是通过delegate作为主要角色来完成的

2、SpringMVC中应用

前端控制器: 类DispatcherServlet，就是：用于HTTP请求处理程序/控制器的中央调度程序，针对通过WEB UI输入的url请求，委派给DispatcherServlet处理，从委派者的角度来看，关注结果即可


## 设计原则

### 单一职责原则 SRP

Single Responsibility Principle: **对一个类而言，应该只专注于做一件事和仅有一个引起它变化的原因**。通俗的讲，某个类应该只负责单一功能，当有两个变化会要求修改这个类，那么就要考虑拆分这个类，因为当后来者 b 变化要求修改类时，可能会影响到 a 变化修改后此类的正常运作

### 里氏替换原则 LSP
Liskov Substitution Principle: **里氏替换原则依赖于继承、多态**。只要父类能出现的地方子类就可以出现（因为继承），而且替换为子类也不会产生任何错误或异常，使用者不需要知道是父类还是子类。但是反过来不行，有子类出现的地方，父类未必适应（子类有的方法父类未必有）

### 依赖倒置原则 DIP

Dependence Inversion Principle: **依赖倒置原则依赖于抽象，而不依赖具体实现**。模块间的依赖通过抽象发生，实现类之间不发生直接的依赖关系，其依赖关系是通过接口和抽象类产生的

《敏捷软件开发》：

{%note success %}

依赖倒置原则
a.高层模块不应该依赖于底层模块，二者都应该依赖于抽象。
b.抽象不应该依赖于细节，细节应该依赖于抽象。

{%endnote%}

### 接口隔离原则 ISP

Interface Segregation Principles: **客户端不应该依赖它不需要的接口**。通俗的讲，在设计类时，我们需要将各种接口隔离，使用多个专一功能的接口比使用一个的总接口总要好。过于臃肿的接口是对接口的污染，不应该强迫客户依赖于它们不用的方法。

### 迪米特原则 LOD

Law of Demeter: 又称最少知道原则(Demeter Principle)，它指出**类与类之间的关系越密切，耦合度越大，当一个类发生改变时，对另一个类的影响也越大**。

### 开放封闭原则 OCP

Open Close Principle: **程序中的对象（类、模块、函数等）应该对于扩展开放，对于修改是封闭的**


单一职责原则告诉我们实现类要职责单一；
里氏替换原则告诉我们不要破坏继承体系；
依赖倒置原则告诉我们要面向接口编程；
接口隔离原则告诉我们在设计接口的时候要精简单一；
迪米特法则告诉我们要降低耦合；
而开放封闭原则是总纲领，他告诉我们要对扩展开放，对修改关闭。